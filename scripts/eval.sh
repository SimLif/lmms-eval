#!/bin/bash
set -euo pipefail

# 使用说明
usage() {
    echo "使用方法: $0 [--model MODEL_NAME] [--model_suffix SUFFIX] [--tasks TASKS] [--gpu GPU_ID] [--port PORT] [--help]"
    echo "例如: $0 --model med_moe_phi --tasks vqa_rad --gpu 0 --port 29500"
    exit 1
}

# 如果用户传入 --help 参数则显示帮助
if [[ $# -gt 0 ]]; then
    for arg in "$@"; do
        if [[ "$arg" == "--help" ]]; then
            usage
        fi
    done
fi

# 默认参数
MODEL="med_moe_phi"
MODEL_SUFFIX=""  # 默认为空
TASKS="vqa_rad"
GPU_ID=0
PORT=29500

# 解析命令行参数
while [[ $# -gt 0 ]]; do
  case $1 in
    --model)
      MODEL="$2"
      shift 2
      ;;
    --model_suffix)
      MODEL_SUFFIX="$2"
      shift 2
      ;;
    --tasks)
      TASKS="$2"
      shift 2
      ;;
    --gpu)
      GPU_ID="$2"
      shift 2
      ;;
    --port)
      PORT="$2"
      shift 2
      ;;
    *)
      echo "未知参数: $1"
      usage
      ;;
  esac
done

# 定义模型存放路径和检查点存放路径
MODEL_DIR="/mnt/data/haoqiang/workspace/models"
CKPT_DIR="/mnt/data/haoqiang/workspace/05-moe-llava/checkpoints"
CKPT_DIR_R1="/mnt/data/haoqiang/workspace/09-med-moe-r1/checkpoints"

# 模型路径映射字典
declare -A MODEL_PATHS
MODEL_PATHS["med_moe_phi"]="$MODEL_DIR/Med-MoE/stage3/llavaphi-2.7b-medmoe"
MODEL_PATHS["llava_med"]="$MODEL_DIR/llava-med-v1.5-mistral-7b"
MODEL_PATHS["med_moe_stablelm"]="$MODEL_DIR/Med-MoE/stage3/llavastablelm-1.6b-medmoe"
MODEL_PATHS["moe_llava_qwen"]="$MODEL_DIR/moe-llava-qwen-1.8b-4e"
MODEL_PATHS["moe_llava_qwen_med_1epoch"]="$CKPT_DIR/moe-llava-qwen-1.8b-4e-1epoch"
MODEL_PATHS["moe_llava_qwen_med_9epoch"]="$CKPT_DIR/moe-llava-qwen-1.8b-4e-9epoch"
MODEL_PATHS["moe_llava_qwen_med_s2_1epoch"]="$CKPT_DIR/moe-llava-qwen-1.8b-4e-s2-1epoch"
MODEL_PATHS["moe_llava_qwen_med_s2_9epoch"]="$CKPT_DIR/moe-llava-qwen-1.8b-4e-s2-9epoch"
MODEL_PATHS["moe_llava_qwen_med_s2_k_9epoch"]="$CKPT_DIR/moe-llava-qwen-1.8b-4e-s2-k-9epoch"
MODEL_PATHS["qwen2_vl_instruct"]="$MODEL_DIR/qwen2-vl-2b-instruct"
MODEL_PATHS["adamllm_qwen_med"]="$MODEL_DIR/biomed-qwen2-vl-2b-instruct"
MODEL_PATHS["moe_qwen2_vl_test"]="$CKPT_DIR/qwen2-vl-2b-instruct-4e-med-test"
MODEL_PATHS["moe_qwen2_vl_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-4e-med-5epoch"
MODEL_PATHS["moe_qwen2_vl_ada_1epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-4e-ada-1epoch"
MODEL_PATHS["moe_qwen2_vl_8e2_nano_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-8e2-med-nano-5epoch"
MODEL_PATHS["moe_qwen2_vl_256e32_nano_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-256e32-med-nano-5epoch"
MODEL_PATHS["qwen2_vl_instruct_med_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-3vqa-5e"
MODEL_PATHS["moe_qwen2_vl_256e32_ada_nano_1epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-256e32-ada-nano-1epoch"
MODEL_PATHS["moe_qwen2_vl_256e32_nano_ee_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-256e32-med-nano-ee-5epoch"
MODEL_PATHS["moe_qwen2_vl_256e32_nano_ee_5epoch_re"]="$CKPT_DIR/qwen2-vl-2b-instruct-256e32-med-nano-ee-5epoch-re"
MODEL_PATHS["moe_qwen2_vl_256e32_nano_ee_smi_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-256e8x4-med-nano-ee-smi-5epoch"
MODEL_PATHS["moe_qwen2_vl_4096e32_nano_ee_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-4096e32-med-nano-ee-5epoch"
MODEL_PATHS["moe_qwen2_vl_4096e64_nano_ee_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-4096e64-med-nano-ee-5epoch"
MODEL_PATHS["moe_qwen2_vl_16384e32_nano_ee_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-16384e32-med-nano-ee-5epoch"
MODEL_PATHS["moe_qwen2_vl_16384e64_nano_ee_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-16384e64-med-nano-ee-5epoch"
MODEL_PATHS["moe_qwen2_vl_4096e2_nano_ee_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-4096e2-med-nano-ee-5epoch"
MODEL_PATHS["moe_qwen2_vl_4096e2_nano_ee_all_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-4096e2-med-nano-ee-all-5epoch"
MODEL_PATHS["moe_qwen2_vl_4096e4_nano_ee_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-4096e4-med-nano-ee-5epoch"
MODEL_PATHS["moe_qwen2_vl_4096e8_nano_ee_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-4096e8-med-nano-ee-5epoch"
MODEL_PATHS["moe_qwen2_vl_4096e16_nano_ee_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-4096e16-med-nano-ee-5epoch"
MODEL_PATHS["moe_qwen2_vl_4096e2_nano_ee_k_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-4096e2-med-nano-ee-k-5epoch"
MODEL_PATHS["moe_qwen2_vl_4096e2_nano_ee_k_ng_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-4096e2-med-nano-ee-k-ng-5epoch"
MODEL_PATHS["moe_qwen2_vl_4096e2_nano_ee_k_ns_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-4096e2-med-nano-ee-k-ns-5epoch"
MODEL_PATHS["moe_qwen2_vl_4480e2_nano_ee_org_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-4480e2-med-nano-ee-org-5epoch"
MODEL_PATHS["moe_qwen2_vl_4480e2_nano_ee_org_ng_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-4480e2-med-nano-ee-org-ng-5epoch"
MODEL_PATHS["moe_qwen2_vl_8e4_nano_ee_gran_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-8e4-med-nano-ee-gran-5epoch"
MODEL_PATHS["moe_qwen2_vl_3e1_share_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-3e1-med-share-5eopch"
MODEL_PATHS["moe_qwen2_vl_4e2_share_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-4e2-med-share-5eopch"
MODEL_PATHS["moe_qwen2_vl_4e1_med_test"]="$CKPT_DIR/qwen2-vl-2b-instruct-4e1-med-test"
MODEL_PATHS["moe_qwen2_vl_6e2_nano_ee_share_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-6e2-med-nano-ee-share-5epoch"
MODEL_PATHS["moe_qwen2_vl_3e1_share_freeze_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-3e1-med-share-freeze-5epoch"
MODEL_PATHS["moe_qwen2_vl_3e1_nano_gate_comb_2epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-3e1-med-nano-gate-comb-2epoch"
MODEL_PATHS["moe_qwen2_vl_4e2_val_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-4e2-med-nano-val-5epoch"
MODEL_PATHS["moe_qwen2_vl_3e1_gate_comb_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-3e1-med-val-gate-comb-5epoch"
MODEL_PATHS["moe_qwen2_vl_4e2_nano_ds_tok_val_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-4e2-med-nano-ds-tok-val-5epoch"
MODEL_PATHS["moe_qwen2_vl_8e4_nano_ds_tok_val_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-8e4-med-nano-ds-tok-val-5epoch"
MODEL_PATHS["moe_qwen2_vl_6e2_nano_ds_tok_share_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-6e2-med-nano-ds-tok-share-5epoch"
MODEL_PATHS["moe_qwen2_vl_6e2_nano_ds_tok_share_cg_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-6e2-med-nano-ds-tok-share-cg-5epoch"
MODEL_PATHS["moe_qwen2_vl_16e8_nano_ds_tok_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-16e8-med-nano-ds-tok-5epoch"
MODEL_PATHS["moe_qwen2_vl_6e2_nano_ds_tok_share_cg_2epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-6e2-med-nano-ds-tok-share-cg-2epoch"
MODEL_PATHS["moe_qwen2_vl_6e2_nano_ds_tok_k_share_cg_2epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-6e2-med-nano-ds-tok-k-share-cg-2epoch"
MODEL_PATHS["moe_qwen2_vl_12e4_nano_ds_tok_share_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-12e4-med-nano-ds-tok-share-5epoch"
MODEL_PATHS["moe_qwen2_vl_12e4_nano_ds_tok_share_cg_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-12e4-med-nano-ds-tok-share-cg-5epoch"
MODEL_PATHS["moe_qwen2_vl_6e2_nano_ds_tok_share_f32_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-6e2-med-nano-ds-tok-share-f32-5epoch"
MODEL_PATHS["moe_qwen2_vl_6e2_nano_ds_tok_share_slow_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-6e2-med-nano-ds-tok-share-slow-5epoch"
MODEL_PATHS["moe_qwen2_vl_6e2_nano_ds_ds_share_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-6e2-med-nano-ds-ds-share-5epoch"
MODEL_PATHS["moe_qwen2_vl_24e8_nano_ds_tok_share_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-24e8-med-nano-ds-tok-share-5epoch"
MODEL_PATHS["moe_qwen2_vl_48e16_nano_ds_tok_share_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-48e16-med-nano-ds-tok-share-5epoch"
MODEL_PATHS["moe_qwen2_vl_96e32_nano_ds_tok_share_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-med-nano-ds-tok-share-5epoch"
MODEL_PATHS["moe_qwen2_vl_192e32_nano_ds_tok_share_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-192e32-med-nano-ds-tok-share-5epoch"
MODEL_PATHS["moe_qwen2_vl_192e16_nano_ds_tok_share_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-192e16-med-nano-ds-tok-share-5epoch"
MODEL_PATHS["moe_qwen2_vl_192e64_nano_ds_tok_share_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-192e64-med-nano-ds-tok-share-5epoch"
MODEL_PATHS["moe_qwen2_vl_192e8_nano_ds_tok_share_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-192e8-med-nano-ds-tok-share-5epoch"
MODEL_PATHS["moe_qwen2_vl_192e4_nano_ds_tok_share_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-192e4-med-nano-ds-tok-share-5epoch"
MODEL_PATHS["moe_qwen2_vl_192e2_nano_ds_tok_share_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-192e2-med-nano-ds-tok-share-5epoch"
MODEL_PATHS["moe_qwen2_vl_192e64_nano_ds_ds_share_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-192e64-med-nano-ds-ds-share-5epoch"
MODEL_PATHS["moe_qwen2_vl_48e2_nano_ds_tok_share_r140_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-48e2-med-nano-ds-tok-share-r140-5epoch"
MODEL_PATHS["moe_qwen2_vl_96e2_nano_ds_tok_share_r140_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e2-med-nano-ds-tok-share-r140-5epoch"
MODEL_PATHS["moe_qwen2_vl_24e2_nano_ds_tok_share_r140_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-24e2-med-nano-ds-tok-share-r140-5epoch"
MODEL_PATHS["moe_qwen2_vl_768e256_nano_ds_ds_share_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-768e256-med-nano-ds-ds-share-5epoch"
MODEL_PATHS["qwen2_vl_instruct_med_mlp_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-med-mlp-5epoch"
MODEL_PATHS["moe_qwen2_vl_6e2_nano_ds_tok_share_cg_cmr_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-6e2-med-nano-ds-tok-share-cg-cmr-5epoch"
MODEL_PATHS["moe_qwen2_vl_12e2_nano_ds_tok_share_r140_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-12e2-med-nano-ds-tok-share-r140-5epoch"
MODEL_PATHS["moe_qwen2_vl_6e2_nano_ds_tok_share_r140_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-6e2-med-nano-ds-tok-share-r140-5epoch"
MODEL_PATHS["moe_qwen2_vl_16e8_ada_nano_ds_tok_1epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-16e8-ada-nano-ds-tok-1epoch"
MODEL_PATHS["moe_qwen2_vl_12e4_ada_nano_ds_tok_share_1epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-12e4-ada-nano-ds-tok-share-1epoch"
MODEL_PATHS["moe_qwen2_vl_8e4_nano_ds_tok_kd_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-8e4-med-nano-ds-tok-kd-5epoch"
MODEL_PATHS["moe_qwen2_vl_12e4_nano_ds_tok_share_ada_1epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-12e4-med-nano-ds-tok-share-ada-1epoch"
MODEL_PATHS["moe_qwen2_vl_12e4_nano_ds_tok_share_ada_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-12e4-med-nano-ds-tok-share-ada-5epoch"
MODEL_PATHS["moe_qwen2_vl_12e4_nano_ds_tok_share_ada_pre_1epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-12e4-med-nano-ds-tok-share-ada-pre-1epoch"
MODEL_PATHS["moe_qwen2_vl_16e8_nano_ds_tok_ada_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-16e8-med-nano-ds-tok-ada-5epoch"
MODEL_PATHS["moe_qwen2_vl_12e4_nano_ds_tok_share_ada_pre_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-12e4-med-nano-ds-tok-share-ada-pre-5epoch"
MODEL_PATHS["moe_qwen2_vl_12e4_nano_ds_tok_share_4epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-12e4-med-nano-ds-tok-share-4epoch"
MODEL_PATHS["moe_qwen2_vl_4e2_med_ada_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-4e2-med-ada-5epoch"
MODEL_PATHS["qwen2_vl_adamllm_med_mlp_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-adamllm-med-mlp-5epoch"
MODEL_PATHS["moe_qwen2_vl_16e8_nano_ds_tok_ada_pre_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-16e8-med-nano-ds-tok-ada-pre-5epoch"
MODEL_PATHS["moe_qwen2_vl_3e1_share_10epoch_500"]="$CKPT_DIR/qwen2-vl-2b-instruct-3e1-med-10epoch/checkpoint-500"
MODEL_PATHS["moe_qwen2_vl_3e1_share_10epoch_1000"]="$CKPT_DIR/qwen2-vl-2b-instruct-3e1-med-10epoch/checkpoint-1000"
MODEL_PATHS["moe_qwen2_vl_3e1_share_10epoch_1500"]="$CKPT_DIR/qwen2-vl-2b-instruct-3e1-med-10epoch/checkpoint-1500"
MODEL_PATHS["moe_qwen2_vl_3e1_share_10epoch_2000"]="$CKPT_DIR/qwen2-vl-2b-instruct-3e1-med-10epoch/checkpoint-2000"
MODEL_PATHS["moe_qwen2_vl_3e1_share_10epoch_2500"]="$CKPT_DIR/qwen2-vl-2b-instruct-3e1-med-10epoch/checkpoint-2500"
MODEL_PATHS["moe_qwen2_vl_3e1_share_10epoch_3000"]="$CKPT_DIR/qwen2-vl-2b-instruct-3e1-med-10epoch/checkpoint-3000"
MODEL_PATHS["moe_qwen2_vl_3e1_share_10epoch_3500"]="$CKPT_DIR/qwen2-vl-2b-instruct-3e1-med-10epoch/checkpoint-3500"
MODEL_PATHS["moe_qwen2_vl_3e1_share_10epoch_4000"]="$CKPT_DIR/qwen2-vl-2b-instruct-3e1-med-10epoch/checkpoint-4000"
MODEL_PATHS["moe_qwen2_vl_3e1_share_10epoch_4500"]="$CKPT_DIR/qwen2-vl-2b-instruct-3e1-med-10epoch/checkpoint-4500"
MODEL_PATHS["moe_qwen2_vl_3e1_share_10epoch_5000"]="$CKPT_DIR/qwen2-vl-2b-instruct-3e1-med-10epoch/checkpoint-5000"
MODEL_PATHS["moe_qwen2_vl_3e1_share_10epoch_5500"]="$CKPT_DIR/qwen2-vl-2b-instruct-3e1-med-10epoch/checkpoint-5500"
MODEL_PATHS["moe_qwen2_vl_3e1_share_10epoch_6000"]="$CKPT_DIR/qwen2-vl-2b-instruct-3e1-med-10epoch/checkpoint-6000"
MODEL_PATHS["moe_qwen2_vl_3e1_share_10epoch_6500"]="$CKPT_DIR/qwen2-vl-2b-instruct-3e1-med-10epoch/checkpoint-6500"
MODEL_PATHS["moe_qwen2_vl_3e1_share_10epoch_7000"]="$CKPT_DIR/qwen2-vl-2b-instruct-3e1-med-10epoch/checkpoint-7000"
MODEL_PATHS["moe_qwen2_vl_3e1_share_10epoch_7500"]="$CKPT_DIR/qwen2-vl-2b-instruct-3e1-med-10epoch/checkpoint-7500"
MODEL_PATHS["moe_qwen2_vl_3e1_share_10epoch_8000"]="$CKPT_DIR/qwen2-vl-2b-instruct-3e1-med-10epoch/checkpoint-8000"
MODEL_PATHS["moe_qwen2_vl_3e1_share_10epoch_8500"]="$CKPT_DIR/qwen2-vl-2b-instruct-3e1-med-10epoch/checkpoint-8500"
MODEL_PATHS["moe_qwen2_vl_3e1_share_10epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-3e1-med-10epoch"
MODEL_PATHS["moe_qwen2_vl_12e4_share_10epoch_500"]="$CKPT_DIR/qwen2-vl-2b-instruct-12e4-med-10epoch/checkpoint-500"
MODEL_PATHS["moe_qwen2_vl_12e4_share_10epoch_1000"]="$CKPT_DIR/qwen2-vl-2b-instruct-12e4-med-10epoch/checkpoint-1000"
MODEL_PATHS["moe_qwen2_vl_12e4_share_10epoch_1500"]="$CKPT_DIR/qwen2-vl-2b-instruct-12e4-med-10epoch/checkpoint-1500"
MODEL_PATHS["moe_qwen2_vl_12e4_share_10epoch_2000"]="$CKPT_DIR/qwen2-vl-2b-instruct-12e4-med-10epoch/checkpoint-2000"
MODEL_PATHS["moe_qwen2_vl_12e4_share_10epoch_2500"]="$CKPT_DIR/qwen2-vl-2b-instruct-12e4-med-10epoch/checkpoint-2500"
MODEL_PATHS["moe_qwen2_vl_12e4_share_10epoch_3000"]="$CKPT_DIR/qwen2-vl-2b-instruct-12e4-med-10epoch/checkpoint-3000"
MODEL_PATHS["moe_qwen2_vl_12e4_share_10epoch_3500"]="$CKPT_DIR/qwen2-vl-2b-instruct-12e4-med-10epoch/checkpoint-3500"
MODEL_PATHS["moe_qwen2_vl_12e4_share_10epoch_4000"]="$CKPT_DIR/qwen2-vl-2b-instruct-12e4-med-10epoch/checkpoint-4000"
MODEL_PATHS["moe_qwen2_vl_12e4_share_10epoch_4500"]="$CKPT_DIR/qwen2-vl-2b-instruct-12e4-med-10epoch/checkpoint-4500"
MODEL_PATHS["moe_qwen2_vl_12e4_share_10epoch_5000"]="$CKPT_DIR/qwen2-vl-2b-instruct-12e4-med-10epoch/checkpoint-5000"
MODEL_PATHS["moe_qwen2_vl_12e4_share_10epoch_5500"]="$CKPT_DIR/qwen2-vl-2b-instruct-12e4-med-10epoch/checkpoint-5500"
MODEL_PATHS["moe_qwen2_vl_12e4_share_10epoch_6000"]="$CKPT_DIR/qwen2-vl-2b-instruct-12e4-med-10epoch/checkpoint-6000"
MODEL_PATHS["moe_qwen2_vl_12e4_share_10epoch_6500"]="$CKPT_DIR/qwen2-vl-2b-instruct-12e4-med-10epoch/checkpoint-6500"
MODEL_PATHS["moe_qwen2_vl_12e4_share_10epoch_7000"]="$CKPT_DIR/qwen2-vl-2b-instruct-12e4-med-10epoch/checkpoint-7000"
MODEL_PATHS["moe_qwen2_vl_12e4_share_10epoch_7500"]="$CKPT_DIR/qwen2-vl-2b-instruct-12e4-med-10epoch/checkpoint-7500"
MODEL_PATHS["moe_qwen2_vl_12e4_share_10epoch_8000"]="$CKPT_DIR/qwen2-vl-2b-instruct-12e4-med-10epoch/checkpoint-8000"
MODEL_PATHS["moe_qwen2_vl_12e4_share_10epoch_8500"]="$CKPT_DIR/qwen2-vl-2b-instruct-12e4-med-10epoch/checkpoint-8500"
MODEL_PATHS["moe_qwen2_vl_12e4_share_10epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-12e4-med-10epoch"
MODEL_PATHS["moe_qwen2_vl_12e4_mmed_1epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-12e4-mmed-nano-ds-tok-share-re-1epoch"
MODEL_PATHS["moe_qwen2_vl_96e32_share_10epoch_500"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-med-10epoch/checkpoint-500"
MODEL_PATHS["moe_qwen2_vl_96e32_share_10epoch_1000"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-med-10epoch/checkpoint-1000"
MODEL_PATHS["moe_qwen2_vl_96e32_share_10epoch_1500"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-med-10epoch/checkpoint-1500"
MODEL_PATHS["moe_qwen2_vl_96e32_share_10epoch_2000"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-med-10epoch/checkpoint-2000"
MODEL_PATHS["moe_qwen2_vl_96e32_share_10epoch_2500"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-med-10epoch/checkpoint-2500"
MODEL_PATHS["moe_qwen2_vl_96e32_share_10epoch_3000"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-med-10epoch/checkpoint-3000"
MODEL_PATHS["moe_qwen2_vl_96e32_share_10epoch_3500"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-med-10epoch/checkpoint-3500"
MODEL_PATHS["moe_qwen2_vl_96e32_share_10epoch_4000"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-med-10epoch/checkpoint-4000"
MODEL_PATHS["moe_qwen2_vl_96e32_share_10epoch_4500"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-med-10epoch/checkpoint-4500"
MODEL_PATHS["moe_qwen2_vl_96e32_share_10epoch_5000"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-med-10epoch/checkpoint-5000"
MODEL_PATHS["moe_qwen2_vl_96e32_share_10epoch_5500"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-med-10epoch/checkpoint-5500"
MODEL_PATHS["moe_qwen2_vl_96e32_share_10epoch_6000"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-med-10epoch/checkpoint-6000"
MODEL_PATHS["moe_qwen2_vl_96e32_share_10epoch_6500"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-med-10epoch/checkpoint-6500"
MODEL_PATHS["moe_qwen2_vl_96e32_share_10epoch_7000"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-med-10epoch/checkpoint-7000"
MODEL_PATHS["moe_qwen2_vl_96e32_share_10epoch_7500"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-med-10epoch/checkpoint-7500"
MODEL_PATHS["moe_qwen2_vl_96e32_share_10epoch_8000"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-med-10epoch/checkpoint-8000"
MODEL_PATHS["moe_qwen2_vl_96e32_share_10epoch_8500"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-med-10epoch/checkpoint-8500"
MODEL_PATHS["moe_qwen2_vl_96e32_share_10epoch_8670"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-med-10epoch/checkpoint-8670"
MODEL_PATHS["moe_qwen2_vl_12e4_ada_share_10epoch_500"]="$CKPT_DIR/qwen2-vl-2b-instruct-12e4-med-ada-10epoch/checkpoint-500"
MODEL_PATHS["moe_qwen2_vl_12e4_ada_share_10epoch_1000"]="$CKPT_DIR/qwen2-vl-2b-instruct-12e4-med-ada-10epoch/checkpoint-1000"
MODEL_PATHS["moe_qwen2_vl_12e4_ada_share_10epoch_1500"]="$CKPT_DIR/qwen2-vl-2b-instruct-12e4-med-ada-10epoch/checkpoint-1500"
MODEL_PATHS["moe_qwen2_vl_12e4_ada_share_10epoch_2000"]="$CKPT_DIR/qwen2-vl-2b-instruct-12e4-med-ada-10epoch/checkpoint-2000"
MODEL_PATHS["moe_qwen2_vl_12e4_ada_share_10epoch_2500"]="$CKPT_DIR/qwen2-vl-2b-instruct-12e4-med-ada-10epoch/checkpoint-2500"
MODEL_PATHS["moe_qwen2_vl_12e4_ada_share_10epoch_3000"]="$CKPT_DIR/qwen2-vl-2b-instruct-12e4-med-ada-10epoch/checkpoint-3000"
MODEL_PATHS["moe_qwen2_vl_12e4_ada_share_10epoch_3500"]="$CKPT_DIR/qwen2-vl-2b-instruct-12e4-med-ada-10epoch/checkpoint-3500"
MODEL_PATHS["moe_qwen2_vl_12e4_ada_share_10epoch_4000"]="$CKPT_DIR/qwen2-vl-2b-instruct-12e4-med-ada-10epoch/checkpoint-4000"
MODEL_PATHS["moe_qwen2_vl_12e4_ada_share_10epoch_4500"]="$CKPT_DIR/qwen2-vl-2b-instruct-12e4-med-ada-10epoch/checkpoint-4500"
MODEL_PATHS["moe_qwen2_vl_12e4_ada_share_10epoch_5000"]="$CKPT_DIR/qwen2-vl-2b-instruct-12e4-med-ada-10epoch/checkpoint-5000"
MODEL_PATHS["moe_qwen2_vl_12e4_ada_share_10epoch_5500"]="$CKPT_DIR/qwen2-vl-2b-instruct-12e4-med-ada-10epoch/checkpoint-5500"
MODEL_PATHS["moe_qwen2_vl_12e4_ada_share_10epoch_6000"]="$CKPT_DIR/qwen2-vl-2b-instruct-12e4-med-ada-10epoch/checkpoint-6000"
MODEL_PATHS["moe_qwen2_vl_12e4_ada_share_10epoch_6500"]="$CKPT_DIR/qwen2-vl-2b-instruct-12e4-med-ada-10epoch/checkpoint-6500"
MODEL_PATHS["moe_qwen2_vl_12e4_ada_share_10epoch_7000"]="$CKPT_DIR/qwen2-vl-2b-instruct-12e4-med-ada-10epoch/checkpoint-7000"
MODEL_PATHS["moe_qwen2_vl_12e4_ada_share_10epoch_7500"]="$CKPT_DIR/qwen2-vl-2b-instruct-12e4-med-ada-10epoch/checkpoint-7500"
MODEL_PATHS["moe_qwen2_vl_12e4_ada_share_10epoch_8000"]="$CKPT_DIR/qwen2-vl-2b-instruct-12e4-med-ada-10epoch/checkpoint-8000"
MODEL_PATHS["moe_qwen2_vl_12e4_ada_share_10epoch_8500"]="$CKPT_DIR/qwen2-vl-2b-instruct-12e4-med-ada-10epoch/checkpoint-8500"
MODEL_PATHS["moe_qwen2_vl_12e4_ada_share_10epoch_8670"]="$CKPT_DIR/qwen2-vl-2b-instruct-12e4-med-ada-10epoch/checkpoint-8670"
MODEL_PATHS["moe_qwen2_vl_12e4_mmed_med_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-12e4-med-nano-ds-tok-share-mmed-5epoch"
MODEL_PATHS["moe_qwen2_vl_4e2_10epoch_500"]="$CKPT_DIR/qwen2-vl-2b-instruct-4e2-med-10epoch/checkpoint-500"
MODEL_PATHS["moe_qwen2_vl_4e2_10epoch_1000"]="$CKPT_DIR/qwen2-vl-2b-instruct-4e2-med-10epoch/checkpoint-1000"
MODEL_PATHS["moe_qwen2_vl_4e2_10epoch_1500"]="$CKPT_DIR/qwen2-vl-2b-instruct-4e2-med-10epoch/checkpoint-1500"
MODEL_PATHS["moe_qwen2_vl_4e2_10epoch_2000"]="$CKPT_DIR/qwen2-vl-2b-instruct-4e2-med-10epoch/checkpoint-2000"
MODEL_PATHS["moe_qwen2_vl_4e2_10epoch_2500"]="$CKPT_DIR/qwen2-vl-2b-instruct-4e2-med-10epoch/checkpoint-2500"
MODEL_PATHS["moe_qwen2_vl_4e2_10epoch_3000"]="$CKPT_DIR/qwen2-vl-2b-instruct-4e2-med-10epoch/checkpoint-3000"
MODEL_PATHS["moe_qwen2_vl_4e2_10epoch_3500"]="$CKPT_DIR/qwen2-vl-2b-instruct-4e2-med-10epoch/checkpoint-3500"
MODEL_PATHS["moe_qwen2_vl_4e2_10epoch_4000"]="$CKPT_DIR/qwen2-vl-2b-instruct-4e2-med-10epoch/checkpoint-4000"
MODEL_PATHS["moe_qwen2_vl_4e2_10epoch_4500"]="$CKPT_DIR/qwen2-vl-2b-instruct-4e2-med-10epoch/checkpoint-4500"
MODEL_PATHS["moe_qwen2_vl_4e2_10epoch_5000"]="$CKPT_DIR/qwen2-vl-2b-instruct-4e2-med-10epoch/checkpoint-5000"
MODEL_PATHS["moe_qwen2_vl_4e2_10epoch_5500"]="$CKPT_DIR/qwen2-vl-2b-instruct-4e2-med-10epoch/checkpoint-5500"
MODEL_PATHS["moe_qwen2_vl_4e2_10epoch_6000"]="$CKPT_DIR/qwen2-vl-2b-instruct-4e2-med-10epoch/checkpoint-6000"
MODEL_PATHS["moe_qwen2_vl_4e2_10epoch_6500"]="$CKPT_DIR/qwen2-vl-2b-instruct-4e2-med-10epoch/checkpoint-6500"
MODEL_PATHS["moe_qwen2_vl_4e2_10epoch_7000"]="$CKPT_DIR/qwen2-vl-2b-instruct-4e2-med-10epoch/checkpoint-7000"
MODEL_PATHS["moe_qwen2_vl_4e2_10epoch_7500"]="$CKPT_DIR/qwen2-vl-2b-instruct-4e2-med-10epoch/checkpoint-7500"
MODEL_PATHS["moe_qwen2_vl_4e2_10epoch_8000"]="$CKPT_DIR/qwen2-vl-2b-instruct-4e2-med-10epoch/checkpoint-8000"
MODEL_PATHS["moe_qwen2_vl_4e2_10epoch_8500"]="$CKPT_DIR/qwen2-vl-2b-instruct-4e2-med-10epoch/checkpoint-8500"
MODEL_PATHS["moe_qwen2_vl_4e2_10epoch_8670"]="$CKPT_DIR/qwen2-vl-2b-instruct-4e2-med-10epoch/checkpoint-8670"
MODEL_PATHS["moe_qwen2_vl_96e32_mmed_1epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-mmed-nano-ds-tok-share-1epoch"
MODEL_PATHS["moe_qwen2_vl_4e2_ada_10epoch_500"]="$CKPT_DIR/qwen2-vl-2b-instruct-4e2-ada-med-10epoch/checkpoint-500"
MODEL_PATHS["moe_qwen2_vl_4e2_ada_10epoch_1000"]="$CKPT_DIR/qwen2-vl-2b-instruct-4e2-ada-med-10epoch/checkpoint-1000"
MODEL_PATHS["moe_qwen2_vl_4e2_ada_10epoch_1500"]="$CKPT_DIR/qwen2-vl-2b-instruct-4e2-ada-med-10epoch/checkpoint-1500"
MODEL_PATHS["moe_qwen2_vl_4e2_ada_10epoch_2000"]="$CKPT_DIR/qwen2-vl-2b-instruct-4e2-ada-med-10epoch/checkpoint-2000"
MODEL_PATHS["moe_qwen2_vl_4e2_ada_10epoch_2500"]="$CKPT_DIR/qwen2-vl-2b-instruct-4e2-ada-med-10epoch/checkpoint-2500"
MODEL_PATHS["moe_qwen2_vl_4e2_ada_10epoch_3000"]="$CKPT_DIR/qwen2-vl-2b-instruct-4e2-ada-med-10epoch/checkpoint-3000"
MODEL_PATHS["moe_qwen2_vl_4e2_ada_10epoch_3500"]="$CKPT_DIR/qwen2-vl-2b-instruct-4e2-ada-med-10epoch/checkpoint-3500"
MODEL_PATHS["moe_qwen2_vl_4e2_ada_10epoch_4000"]="$CKPT_DIR/qwen2-vl-2b-instruct-4e2-ada-med-10epoch/checkpoint-4000"
MODEL_PATHS["moe_qwen2_vl_4e2_ada_10epoch_4500"]="$CKPT_DIR/qwen2-vl-2b-instruct-4e2-ada-med-10epoch/checkpoint-4500"
MODEL_PATHS["moe_qwen2_vl_4e2_ada_10epoch_5000"]="$CKPT_DIR/qwen2-vl-2b-instruct-4e2-ada-med-10epoch/checkpoint-5000"
MODEL_PATHS["moe_qwen2_vl_4e2_ada_10epoch_5500"]="$CKPT_DIR/qwen2-vl-2b-instruct-4e2-ada-med-10epoch/checkpoint-5500"
MODEL_PATHS["moe_qwen2_vl_4e2_ada_10epoch_6000"]="$CKPT_DIR/qwen2-vl-2b-instruct-4e2-ada-med-10epoch/checkpoint-6000"
MODEL_PATHS["moe_qwen2_vl_4e2_ada_10epoch_6500"]="$CKPT_DIR/qwen2-vl-2b-instruct-4e2-ada-med-10epoch/checkpoint-6500"
MODEL_PATHS["moe_qwen2_vl_4e2_ada_10epoch_7000"]="$CKPT_DIR/qwen2-vl-2b-instruct-4e2-ada-med-10epoch/checkpoint-7000"
MODEL_PATHS["moe_qwen2_vl_4e2_ada_10epoch_7500"]="$CKPT_DIR/qwen2-vl-2b-instruct-4e2-ada-med-10epoch/checkpoint-7500"
MODEL_PATHS["moe_qwen2_vl_4e2_ada_10epoch_8000"]="$CKPT_DIR/qwen2-vl-2b-instruct-4e2-ada-med-10epoch/checkpoint-8000"
MODEL_PATHS["moe_qwen2_vl_4e2_ada_10epoch_8500"]="$CKPT_DIR/qwen2-vl-2b-instruct-4e2-ada-med-10epoch/checkpoint-8500"
MODEL_PATHS["moe_qwen2_vl_4e2_ada_10epoch_8670"]="$CKPT_DIR/qwen2-vl-2b-instruct-4e2-ada-med-10epoch/checkpoint-8670"
MODEL_PATHS["moe_qwen2_vl_96e32_mmed_med_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-mmed-med-5epoch"
MODEL_PATHS["qwen2_vl_adamllm_med_full_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-adamllm-med-full-5epoch"
MODEL_PATHS["moe_qwen2_vl_3e1_ada_1epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-3e1-ada-1epoch"
MODEL_PATHS["moe_qwen2_vl_3e1_ada_med_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-3e1-ada-med-5epoch"
MODEL_PATHS["moe_qwen2_vl_3e1_ada_10epoch_500"]="$CKPT_DIR/qwen2-vl-2b-instruct-3e1-ada-med-10epoch/checkpoint-500"
MODEL_PATHS["moe_qwen2_vl_3e1_ada_10epoch_1000"]="$CKPT_DIR/qwen2-vl-2b-instruct-3e1-ada-med-10epoch/checkpoint-1000"
MODEL_PATHS["moe_qwen2_vl_3e1_ada_10epoch_1500"]="$CKPT_DIR/qwen2-vl-2b-instruct-3e1-ada-med-10epoch/checkpoint-1500"
MODEL_PATHS["moe_qwen2_vl_3e1_ada_10epoch_2000"]="$CKPT_DIR/qwen2-vl-2b-instruct-3e1-ada-med-10epoch/checkpoint-2000"
MODEL_PATHS["moe_qwen2_vl_3e1_ada_10epoch_2500"]="$CKPT_DIR/qwen2-vl-2b-instruct-3e1-ada-med-10epoch/checkpoint-2500"
MODEL_PATHS["moe_qwen2_vl_3e1_ada_10epoch_3000"]="$CKPT_DIR/qwen2-vl-2b-instruct-3e1-ada-med-10epoch/checkpoint-3000"
MODEL_PATHS["moe_qwen2_vl_3e1_ada_10epoch_3500"]="$CKPT_DIR/qwen2-vl-2b-instruct-3e1-ada-med-10epoch/checkpoint-3500"
MODEL_PATHS["moe_qwen2_vl_3e1_ada_10epoch_4000"]="$CKPT_DIR/qwen2-vl-2b-instruct-3e1-ada-med-10epoch/checkpoint-4000"
MODEL_PATHS["moe_qwen2_vl_3e1_ada_10epoch_4500"]="$CKPT_DIR/qwen2-vl-2b-instruct-3e1-ada-med-10epoch/checkpoint-4500"
MODEL_PATHS["moe_qwen2_vl_3e1_ada_10epoch_5000"]="$CKPT_DIR/qwen2-vl-2b-instruct-3e1-ada-med-10epoch/checkpoint-5000"
MODEL_PATHS["moe_qwen2_vl_3e1_ada_10epoch_5500"]="$CKPT_DIR/qwen2-vl-2b-instruct-3e1-ada-med-10epoch/checkpoint-5500"
MODEL_PATHS["moe_qwen2_vl_3e1_ada_10epoch_6000"]="$CKPT_DIR/qwen2-vl-2b-instruct-3e1-ada-med-10epoch/checkpoint-6000"
MODEL_PATHS["moe_qwen2_vl_3e1_ada_10epoch_6500"]="$CKPT_DIR/qwen2-vl-2b-instruct-3e1-ada-med-10epoch/checkpoint-6500"
MODEL_PATHS["moe_qwen2_vl_3e1_ada_10epoch_7000"]="$CKPT_DIR/qwen2-vl-2b-instruct-3e1-ada-med-10epoch/checkpoint-7000"
MODEL_PATHS["moe_qwen2_vl_3e1_ada_10epoch_7500"]="$CKPT_DIR/qwen2-vl-2b-instruct-3e1-ada-med-10epoch/checkpoint-7500"
MODEL_PATHS["moe_qwen2_vl_3e1_ada_10epoch_8000"]="$CKPT_DIR/qwen2-vl-2b-instruct-3e1-ada-med-10epoch/checkpoint-8000"
MODEL_PATHS["moe_qwen2_vl_3e1_ada_10epoch_8500"]="$CKPT_DIR/qwen2-vl-2b-instruct-3e1-ada-med-10epoch/checkpoint-8500"
MODEL_PATHS["moe_qwen2_vl_3e1_ada_10epoch_8670"]="$CKPT_DIR/qwen2-vl-2b-instruct-3e1-ada-med-10epoch/checkpoint-8670"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_1epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-ada-1epoch"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_med_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-ada-med-5epoch"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_10epoch_500"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-ada-med-10epoch/checkpoint-500"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_10epoch_1000"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-ada-med-10epoch/checkpoint-1000"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_10epoch_1500"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-ada-med-10epoch/checkpoint-1500"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_10epoch_2000"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-ada-med-10epoch/checkpoint-2000"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_10epoch_2500"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-ada-med-10epoch/checkpoint-2500"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_10epoch_3000"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-ada-med-10epoch/checkpoint-3000"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_10epoch_3500"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-ada-med-10epoch/checkpoint-3500"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_10epoch_4000"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-ada-med-10epoch/checkpoint-4000"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_10epoch_4500"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-ada-med-10epoch/checkpoint-4500"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_10epoch_5000"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-ada-med-10epoch/checkpoint-5000"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_10epoch_5500"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-ada-med-10epoch/checkpoint-5500"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_10epoch_6000"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-ada-med-10epoch/checkpoint-6000"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_10epoch_6500"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-ada-med-10epoch/checkpoint-6500"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_10epoch_7000"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-ada-med-10epoch/checkpoint-7000"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_10epoch_7500"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-ada-med-10epoch/checkpoint-7500"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_10epoch_8000"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-ada-med-10epoch/checkpoint-8000"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_10epoch_8500"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-ada-med-10epoch/checkpoint-8500"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_10epoch_8660"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-ada-med-10epoch/checkpoint-8660"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_med_re_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-ada-med-re-5epoch"
MODEL_PATHS["moe_qwen2_vl_96e8_ada_med_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e8-ada-med-5epoch"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_re_10epoch_500"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-ada-med-re-10epoch/checkpoint-500"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_re_10epoch_1000"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-ada-med-re-10epoch/checkpoint-1000"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_re_10epoch_1500"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-ada-med-re-10epoch/checkpoint-1500"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_re_10epoch_2000"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-ada-med-re-10epoch/checkpoint-2000"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_re_10epoch_2500"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-ada-med-re-10epoch/checkpoint-2500"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_re_10epoch_3000"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-ada-med-re-10epoch/checkpoint-3000"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_re_10epoch_3500"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-ada-med-re-10epoch/checkpoint-3500"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_re_10epoch_4000"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-ada-med-re-10epoch/checkpoint-4000"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_re_10epoch_4500"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-ada-med-re-10epoch/checkpoint-4500"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_re_10epoch_5000"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-ada-med-re-10epoch/checkpoint-5000"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_re_10epoch_5500"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-ada-med-re-10epoch/checkpoint-5500"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_re_10epoch_6000"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-ada-med-re-10epoch/checkpoint-6000"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_re_10epoch_6500"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-ada-med-re-10epoch/checkpoint-6500"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_re_10epoch_7000"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-ada-med-re-10epoch/checkpoint-7000"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_re_10epoch_7500"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-ada-med-re-10epoch/checkpoint-7500"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_re_10epoch_8000"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-ada-med-re-10epoch/checkpoint-8000"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_re_10epoch_8500"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-ada-med-re-10epoch/checkpoint-8500"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_re_10epoch_8670"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-ada-med-re-10epoch/checkpoint-8670"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_med_rre_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-ada-med-rre-5epoch"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_com_5epoch_200"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-ada-med-com-5epoch/checkpoint-200"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_com_5epoch_400"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-ada-med-com-5epoch/checkpoint-400"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_com_5epoch_600"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-ada-med-com-5epoch/checkpoint-600"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_com_5epoch_800"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-ada-med-com-5epoch/checkpoint-800"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_com_5epoch_1000"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-ada-med-com-5epoch/checkpoint-1000"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_com_5epoch_1200"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-ada-med-com-5epoch/checkpoint-1200"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_com_5epoch_1400"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-ada-med-com-5epoch/checkpoint-1400"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_com_5epoch_1600"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-ada-med-com-5epoch/checkpoint-1600"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_com_5epoch_1800"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-ada-med-com-5epoch/checkpoint-1800"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_com_5epoch_2000"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-ada-med-com-5epoch/checkpoint-2000"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_com_5epoch_2200"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-ada-med-com-5epoch/checkpoint-2200"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_com_5epoch_2400"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-ada-med-com-5epoch/checkpoint-2400"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_com_5epoch_2600"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-ada-med-com-5epoch/checkpoint-2600"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_com_5epoch_2800"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-ada-med-com-5epoch/checkpoint-2800"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_com_5epoch_3000"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-ada-med-com-5epoch/checkpoint-3000"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_com_5epoch_3200"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-ada-med-com-5epoch/checkpoint-3200"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_com_5epoch_3400"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-ada-med-com-5epoch/checkpoint-3400"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_com_5epoch_3600"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-ada-med-com-5epoch/checkpoint-3600"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_com_5epoch_3800"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-ada-med-com-5epoch/checkpoint-3800"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_com_5epoch_4000"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-ada-med-com-5epoch/checkpoint-4000"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_com_5epoch_4200"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-ada-med-com-5epoch/checkpoint-4200"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_com_5epoch_4335"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-ada-med-com-5epoch/checkpoint-4335"
MODEL_PATHS["moe_qwen2_vl_96e2_ada_med_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e2-ada-med-5epoch"
MODEL_PATHS["moe_qwen2_vl_12e2_ada_med_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-12e2-ada-med-5epoch"
MODEL_PATHS["moe_qwen2_vl_12e2_mmed_med_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-12e2-mmed-med-5epoch"
MODEL_PATHS["moe_qwen2_vl_96e2_mmed_med_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e2-mmed-med-5epoch"
MODEL_PATHS["moe_qwen2_vl_96e8_mmed_med_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e8-mmed-med-5epoch"
MODEL_PATHS["moe_qwen2_vl_6e2_nano_s_tok_share_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-6e2-nano-s-tok-share-5epoch"
MODEL_PATHS["moe_qwen2_vl_12e4_nano_s_tok_share_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-12e4-nano-s-tok-share-5epoch"
MODEL_PATHS["moe_qwen2_vl_24e8_nano_s_tok_share_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-24e8-nano-s-tok-share-5epoch"
MODEL_PATHS["moe_qwen2_vl_48e16_nano_s_tok_share_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-48e16-nano-s-tok-share-5epoch"
MODEL_PATHS["moe_qwen2_vl_96e32_nano_s_tok_share_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-nano-s-tok-share-5epoch"
MODEL_PATHS["moe_qwen2_vl_192e64_nano_s_tok_share_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-192e64-nano-s-tok-share-5epoch"
MODEL_PATHS["moe_qwen2_vl_6e2_ds2s"]="$CKPT_DIR/qwen2-vl-2b-instruct-6e2-med-nano-ds2s-tok-share-5epoch"
MODEL_PATHS["moe_qwen2_vl_12e4_ds2s"]="$CKPT_DIR/qwen2-vl-2b-instruct-12e4-med-nano-ds2s-tok-share-5epoch"
MODEL_PATHS["moe_qwen2_vl_24e8_ds2s"]="$CKPT_DIR/qwen2-vl-2b-instruct-24e8-med-nano-ds2s-tok-share-5epoch"
MODEL_PATHS["moe_qwen2_vl_48e16_ds2s"]="$CKPT_DIR/qwen2-vl-2b-instruct-48e16-med-nano-ds2s-tok-share-5epoch"
MODEL_PATHS["moe_qwen2_vl_96e32_ds2s"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-med-nano-ds2s-tok-share-5epoch"
MODEL_PATHS["moe_qwen2_vl_192e64_ds2s"]="$CKPT_DIR/qwen2-vl-2b-instruct-192e64-med-nano-ds2s-tok-share-5epoch"
MODEL_PATHS["moe_qwen2_vl_12e4_ada_ds2s"]="$CKPT_DIR/qwen2-vl-2b-instruct-12e4-med-nano-ds2s-tok-share-ada-pre-5epoch"
MODEL_PATHS["moe_qwen2_vl_12e4_mmed_ds2s"]="$CKPT_DIR/qwen2-vl-2b-instruct-12e4-med-nano-ds2s-tok-share-mmed-5epoch"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_ds2s"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-ada-med-5epoch-ds2s"
MODEL_PATHS["moe_qwen2_vl_96e32_mmed_ds2s"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-mmed-med-5epoch-ds2s"
MODEL_PATHS["moe_qwen2_vl_12e4_ada_s"]="$CKPT_DIR/qwen2-vl-2b-instruct-12e4-ada-nano-s-tok-share-1epoch"
MODEL_PATHS["moe_qwen2_vl_12e4_ada_ds2s_1epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-12e4-ada-nano-ds2s-tok-share-1epoch"
MODEL_PATHS["moe_qwen2_vl_12e4_mmed_ds2s_1epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-12e4-mmed-nano-ds2s-tok-share-re-1epoch"
MODEL_PATHS["moe_qwen2_vl_96e32_nano_s_re_tok_share_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-nano-s-re-tok-share-5epoch"
MODEL_PATHS["moe_qwen2_vl_192e64_nano_s_re_tok_share_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-192e64-nano-s-re-tok-share-5epoch"
MODEL_PATHS["moe_qwen2_vl_12e4_ada_med_s"]="$CKPT_DIR/qwen2-vl-2b-instruct-12e4-med-ada-nano-s-tok-share-5epoch"
MODEL_PATHS["moe_qwen2_vl_4e4"]="$CKPT_DIR/qwen2-vl-2b-instruct-4e4-5epoch"
MODEL_PATHS["moe_qwen2_vl_7e3"]="$CKPT_DIR/qwen2-vl-2b-instruct-7e3-nano-ss-ds-tok-share-5epoch"
MODEL_PATHS["moe_qwen2_vl_15e7"]="$CKPT_DIR/qwen2-vl-2b-instruct-15e7-nano-ss-ds-tok-share-5epoch"
MODEL_PATHS["qwen2_vl_grpo_pmcvqa_train1"]="$CKPT_DIR_R1/qwen2-vl-2b-grpo-train_v1"
MODEL_PATHS["moe_qwen2_vl_4e2_pmcvqa_r1v1_warm"]="$CKPT_DIR_R1/qwen2-vl-2b-moe-4e2-pmc-vqa-v2-warm"
MODEL_PATHS["moe_qwen2_vl_4e2_ft_pmcvqa_r1v1_warm"]="$CKPT_DIR_R1/qwen2-vl-2b-moe-4e2-ft-pmc-vqa-v2-warm"
MODEL_PATHS["moe_qwen2_vl_4e2_pmcvqa_r1v1_v1_warm"]="$CKPT_DIR_R1/qwen2-vl-2b-moe-4e2-pmc-vqa-v1-warm"
MODEL_PATHS["moe_qwen2_vl_4e2_ft_3vqa_r1v1_v1"]="$CKPT_DIR_R1/qwen2-vl-2b-moe-4e2-ft-3vqa-v1"
MODEL_PATHS["moe_qwen2_vl_4e2_ft_3vqa_r1v1_v2"]="$CKPT_DIR_R1/qwen2-vl-2b-moe-4e2-ft-3vqa-v2"
MODEL_PATHS["moe_qwen2_vl_4e2_ft_3vqa_r1v2_v2"]="$CKPT_DIR_R1/qwen2-vl-2b-moe-4e2-ft-3vqa-r1v2-v2"
MODEL_PATHS["moe_qwen2_vl_4e2_ft_3vqa_r1v1_v2_lora_e1"]="$CKPT_DIR/qwen2-vl-2b-instruct-4e2-med-ada-5epoch@$CKPT_DIR_R1/qwen2-vl-2b-moe-4e2-ft-3vqa-r1v1-v2-lora"
MODEL_PATHS["moe_qwen2_vl_4e2_ft_3vqa_r1v1_v2_lora_e5"]="$CKPT_DIR/qwen2-vl-2b-instruct-4e2-med-ada-5epoch@$CKPT_DIR_R1/qwen2-vl-2b-moe-4e2-ft-3vqa-r1v1-v2-lora-e5"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_med_agroup_5epoch"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e32-5epoch-ada-agroup"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_med_agroup_5epoch_top2"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e2-5epoch-ada-agroup-top2"
MODEL_PATHS["moe_qwen2_vl_12e4_ada_med_agroup_5epoch_top2"]="$CKPT_DIR/qwen2-vl-2b-instruct-12e2-5epoch-ada-agroup-top2"
MODEL_PATHS["moe_qwen2_vl_12e4_ada_med_agroup_5epoch_top2_new2"]="$CKPT_DIR/qwen2-vl-2b-instruct-12e2-5epoch-ada-agroup-new2"
MODEL_PATHS["moe_qwen2_vl_12e4_ada_med_agroup_5epoch_top2_new2_share"]="$CKPT_DIR/qwen2-vl-2b-instruct-12e2-5epoch-ada-agroup-new2-share"
MODEL_PATHS["moe_qwen2_vl_12e4_ada_med_agroup_5epoch_top2_new3"]="$CKPT_DIR/qwen2-vl-2b-instruct-12e2-5epoch-ada-agroup-new3"
MODEL_PATHS["moe_qwen2_vl_12e4_ada_med_agroup_5epoch_top2_new3_mmed"]="$CKPT_DIR/qwen2-vl-2b-instruct-12e2-5epoch-ada-agroup-new3-mmed"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_med_agroup_5epoch_top2_new2"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e2-5epoch-ada-agroup-new2"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_med_agroup_5epoch_top2_new2_share"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e2-5epoch-ada-agroup-new2-share"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_med_agroup_5epoch_top2_new3"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e2-5epoch-ada-agroup-new3"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_med_agroup_5epoch_top2_new3_dropout2"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e2-5epoch-ada-agroup-new3-dropout2"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_med_agroup_5epoch_top2_new3_large_load"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e2-5epoch-ada-agroup-new3-large-load"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_med_agroup_5epoch_top2_new3_mmed"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e2-5epoch-ada-agroup-new3-mmed"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_med_agroup_5epoch_top2_new3_no_anne"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e2-5epoch-ada-agroup-new3-no-annealing"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_med_agroup_5epoch_top2_new3_pluse"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e2-5epoch-ada-agroup-new3-pulse"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_med_agroup_5epoch_sep"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e2-5epoch-ada-agroup-sep"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_med_agroup_5epoch_sep_small_load"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e2-5epoch-ada-agroup-sep-small-load"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_med_agroup_5epoch_sep_gumbel"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e2-5epoch-ada-agroup-sep-gumbel"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_med_agroup_5epoch_sep_ortho"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e2-5epoch-ada-agroup-sep-ortho"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_med_agroup_5epoch_detach"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e2-5epoch-ada-agroup-detach"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_med_agroup_5epoch_detach_no_sep"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e2-5epoch-ada-agroup-detach-no-sep"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_med_agroup_5epoch_detach_sep_aneal"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e2-5epoch-ada-agroup-detach-sep-aneal"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_med_agroup_5epoch_detach_sep_load_aneal"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e2-5epoch-ada-agroup-detach-sep-load-aneal"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_med_agroup_5epoch_detach_sep_8_wg"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e8-5epoch-ada-agroup-detach-sep-8-wg"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_med_agroup_5epoch_detach_sep_residual"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e8-5epoch-ada-agroup-detach-sep-residual"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_med_agroup_5epoch_normalshare"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e8-5epoch-ada-agroup-normshare"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_med_agroup_5epoch_detach_sep_10_1"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e8-5epoch-ada-agroup-detach-sep-10-1"
MODEL_PATHS["moe_qwen2_vl_96e32_ada_med_agroup_5epoch_detach_sep_8_1"]="$CKPT_DIR/qwen2-vl-2b-instruct-96e2-5epoch-ada-agroup-detach-sep-8-1"
MODEL_PATHS["moe_qwen2_vl_12e4_5epoch_ds_no_load_org"]="$CKPT_DIR/qwen2-vl-2b-instruct-12e4-5epoch-ds-no-load-org"

# 可根据需要继续扩展...

# 根据是否有model_suffix构建MODEL_ID和LOG_SUFFIX
if [[ -z "$MODEL_SUFFIX" ]]; then
    MODEL_ID="$MODEL"
    LOG_SUFFIX="$MODEL"
else
    MODEL_ID="${MODEL}_${MODEL_SUFFIX}"
    LOG_SUFFIX="${MODEL}_${MODEL_SUFFIX}"
fi

# 检查模型路径映射是否存在
if [[ -z "${MODEL_PATHS[$MODEL_ID]:-}" ]]; then
    echo "错误: 未找到模型路径映射: $MODEL_ID"
    echo "可用的模型标识符: ${!MODEL_PATHS[@]}"
    exit 1
fi

# 获取模型路径
MODEL_PATH="${MODEL_PATHS[$MODEL_ID]}"

# 根据模型路径动态构建模型参数
if echo "$MODEL_PATH" | grep -q "qwen2"; then
    MODEL_ARGS="pretrained=$MODEL_PATH,max_pixels=$((576 * 28 * 28)),min_pixels=$((16 * 28 * 28))"
else
    MODEL_ARGS="pretrained=$MODEL_PATH"
fi

# 输出最终配置信息
echo "========================================="
echo "使用模型: $MODEL"
[[ -n "$MODEL_SUFFIX" ]] && echo "模型后缀: $MODEL_SUFFIX"
echo "模型标识: $MODEL_ID"
echo "模型路径: $MODEL_PATH"
echo "模型参数: $MODEL_ARGS"
echo "评估任务: $TASKS"
echo "使用显卡: $GPU_ID"
echo "启动端口: $PORT"
echo "========================================="

# 切换到评估脚本所在目录
cd ~/workspace/02-lmms-eval

# 执行评估命令
CUDA_VISIBLE_DEVICES=$GPU_ID python3 -m accelerate.commands.launch \
    --num_processes=1 \
    --use_deepspeed \
    --zero_stage 0 \
    --main_process_port $PORT \
    -m lmms_eval \
    --model $MODEL \
    --model_args "$MODEL_ARGS" \
    --tasks $TASKS \
    --batch_size 1 \
    --log_samples \
    --log_samples_suffix ${LOG_SUFFIX}_${TASKS} \
    --output_path ./logs/

